let allSurahs = [];
let currentSurahId = 1;
const audio = document.getElementById('audioPlayer');
const playBtn = document.getElementById('playBtn');
const seekSlider = document.getElementById('seekSlider');
const currentTimeText = document.getElementById('currentTime');
const durationTimeText = document.getElementById('durationTime');

// ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… ÙˆØ§Ù„ÙˆÙ‚Øª
audio.ontimeupdate = () => {
    if (audio.duration) {
        const value = (audio.currentTime / audio.duration) * 100;
        seekSlider.value = value;
        currentTimeText.innerText = formatTime(audio.currentTime);
        durationTimeText.innerText = formatTime(audio.duration);
    }
};

function seekAudio() {
    const seekTo = audio.duration * (seekSlider.value / 100);
    audio.currentTime = seekTo;
}

function formatTime(seconds) {
    const min = Math.floor(seconds / 60);
    const sec = Math.floor(seconds % 60);
    return `${min}:${sec < 10 ? '0' + sec : sec}`;
}

function toggleAudio() {
    if (audio.paused) {
        audio.play();
        playBtn.innerText = "||";
    } else {
        audio.pause();
        playBtn.innerText = "â–·";
    }
}

function switchMainTab(tab) {
    document.getElementById('quranTab').classList.toggle('active', tab === 'quran');
    document.getElementById('azkarTab').classList.toggle('active', tab === 'azkar');
    document.getElementById('quran-section').style.display = tab === 'quran' ? 'block' : 'none';
    document.getElementById('azkar-section').style.display = tab === 'azkar' ? 'block' : 'none';
    audio.pause();
    playBtn.innerText = "â–·";
}

// Ø¬Ù„Ø¨ Ø§Ù„Ø³ÙˆØ±
fetch('https://api.alquran.cloud/v1/surah')
    .then(res => res.json())
    .then(data => {
        allSurahs = data.data;
        displaySurahs(allSurahs);
    });

function displaySurahs(surahs) {
    const list = document.getElementById('surahList');
    list.innerHTML = surahs.map(s => `<div class="surah-card" onclick="openSurah(${s.number}, '${s.name}')">${s.number}. ${s.name}</div>`).join('');
}

function filterSurahs() {
    const term = document.getElementById('searchInput').value;
    displaySurahs(allSurahs.filter(s => s.name.includes(term)));
}

function openSurah(id, name) {
    currentSurahId = id;
    document.getElementById('main-view').style.display = 'none';
    document.getElementById('quran-view').style.display = 'block';
    document.getElementById('current-surah-title').innerText = name;
    updateAudioSource();
    fetch(`https://api.alquran.cloud/v1/surah/${id}`)
        .then(res => res.json())
        .then(data => {
            let ayahs = data.data.ayahs;
            let bismillahHtml = "";
            if (id !== 1 && id !== 9 && ayahs[0].text.includes("Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù")) {
                bismillahHtml = `<div class="bismillah">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù</div>`;
                ayahs[0].text = ayahs[0].text.replace("Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù", "");
            }
            const textHtml = ayahs.map(a => `${a.text} <span class="ayah-num">(${a.numberInSurah})</span>`).join(' ');
            document.getElementById('ayahsContainer').innerHTML = bismillahHtml + textHtml;
        });
}

function updateAudioSource() {
    const reciter = document.getElementById('reciterSelect').value;
    const formattedId = currentSurahId.toString().padStart(3, '0');
    const servers = {
        'afs': `https://server8.mp3quran.net/afs/${formattedId}.mp3`,
        'minsh': `https://server10.mp3quran.net/minsh/${formattedId}.mp3`,
        'basit': `https://server7.mp3quran.net/basit/${formattedId}.mp3`,
        'husr': `https://server13.mp3quran.net/husr/${formattedId}.mp3`
    };
    audio.src = servers[reciter];
    playBtn.innerText = "â–·";
    seekSlider.value = 0;
}

function showMain() {
    document.getElementById('main-view').style.display = 'block';
    document.getElementById('quran-view').style.display = 'none';
    audio.pause();
}

// --- Ù‚Ø³Ù… Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø­Ø¯Ø« Ø¨Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„ÙƒØ§Ù…Ù„Ø© ---
const azkarData = {
    morning: [
        { text: "Ø£Ø¹ÙˆØ° Ø¨Ø§Ù„Ù„Ù‡ Ù…Ù† Ø§Ù„Ø´ÙŠØ·Ø§Ù† Ø§Ù„Ø±Ø¬ÙŠÙ…: (Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø­ÙÙŠÙÙ‘ Ø§Ù„Ù’Ù‚ÙÙŠÙÙ‘ÙˆÙ…Ù Ù„ÙØ§ ØªÙØ£Ù’Ø®ÙØ°ÙÙ‡Ù Ø³ÙÙ†ÙØ©ÙŒ ÙˆÙÙ„ÙØ§ Ù†ÙÙˆÙ’Ù…ÙŒ Ù„ÙÙ‘Ù‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³ÙÙ‘Ù…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙÙ…ÙØ§ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù Ù…ÙÙ† Ø°ÙØ§ Ø§Ù„ÙÙ‘Ø°ÙÙŠ ÙŠÙØ´Ù’ÙÙØ¹Ù Ø¹ÙÙ†Ø¯ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø¨ÙØ¥ÙØ°Ù’Ù†ÙÙ‡Ù ÙŠÙØ¹Ù’Ù„ÙÙ…Ù Ù…ÙØ§ Ø¨ÙÙŠÙ’Ù†Ù Ø£ÙÙŠÙ’Ø¯ÙÙŠÙ‡ÙÙ…Ù’ ÙˆÙÙ…ÙØ§ Ø®ÙÙ„Ù’ÙÙÙ‡ÙÙ…Ù’ ÙˆÙÙ„ÙØ§ ÙŠÙØ­ÙÙŠØ·ÙÙˆÙ†Ù Ø¨ÙØ´ÙÙŠÙ’Ø¡Ù Ù…ÙÙ‘Ù†Ù’ Ø¹ÙÙ„Ù’Ù…ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø¨ÙÙ…ÙØ§ Ø´ÙØ§Ø¡Ù ÙˆÙØ³ÙØ¹Ù ÙƒÙØ±Ù’Ø³ÙÙŠÙÙ‘Ù‡Ù Ø§Ù„Ø³ÙÙ‘Ù…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙØ§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù ÙˆÙÙ„ÙØ§ ÙŠÙØ¦ÙÙˆØ¯ÙÙ‡Ù Ø­ÙÙÙ’Ø¸ÙÙ‡ÙÙ…ÙØ§ ÙˆÙÙ‡ÙÙˆÙ Ø§Ù„Ù’Ø¹ÙÙ„ÙÙŠÙÙ‘ Ø§Ù„Ù’Ø¹ÙØ¸ÙÙŠÙ…Ù)", count: 1 },
        { text: "Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…: (Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ­ÙØ¯ÙŒØŒ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„ØµÙÙ‘Ù…ÙØ¯ÙØŒ Ù„ÙÙ…Ù’ ÙŠÙÙ„ÙØ¯Ù’ ÙˆÙÙ„ÙÙ…Ù’ ÙŠÙÙˆÙ„ÙØ¯Ù’ØŒ ÙˆÙÙ„ÙÙ…Ù’ ÙŠÙÙƒÙÙ† Ù„ÙÙ‘Ù‡Ù ÙƒÙÙÙÙˆÙ‹Ø§ Ø£ÙØ­ÙØ¯ÙŒ)", count: 3 },
        { text: "Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…: (Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨ÙÙ‘ Ø§Ù„Ù’ÙÙÙ„ÙÙ‚ÙØŒ Ù…ÙÙ† Ø´ÙØ±ÙÙ‘ Ù…ÙØ§ Ø®ÙÙ„ÙÙ‚ÙØŒ ÙˆÙÙ…ÙÙ† Ø´ÙØ±ÙÙ‘ ØºÙØ§Ø³ÙÙ‚Ù Ø¥ÙØ°ÙØ§ ÙˆÙÙ‚ÙØ¨ÙØŒ ÙˆÙÙ…ÙÙ† Ø´ÙØ±ÙÙ‘ Ø§Ù„Ù†ÙÙ‘ÙÙÙ‘Ø§Ø«ÙØ§ØªÙ ÙÙÙŠ Ø§Ù„Ù’Ø¹ÙÙ‚ÙØ¯ÙØŒ ÙˆÙÙ…ÙÙ† Ø´ÙØ±ÙÙ‘ Ø­ÙØ§Ø³ÙØ¯Ù Ø¥ÙØ°ÙØ§ Ø­ÙØ³ÙØ¯Ù)", count: 3 },
        { text: "Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…: (Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨ÙÙ‘ Ø§Ù„Ù†ÙÙ‘Ø§Ø³ÙØŒ Ù…ÙÙ„ÙÙƒÙ Ø§Ù„Ù†ÙÙ‘Ø§Ø³ÙØŒ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø§Ù„Ù†ÙÙ‘Ø§Ø³ÙØŒ Ù…ÙÙ† Ø´ÙØ±ÙÙ‘ Ø§Ù„Ù’ÙˆÙØ³Ù’ÙˆÙØ§Ø³Ù Ø§Ù„Ù’Ø®ÙÙ†ÙÙ‘Ø§Ø³ÙØŒ Ø§Ù„ÙÙ‘Ø°ÙÙŠ ÙŠÙÙˆÙØ³Ù’ÙˆÙØ³Ù ÙÙÙŠ ØµÙØ¯ÙÙˆØ±Ù Ø§Ù„Ù†ÙÙ‘Ø§Ø³ÙØŒ Ù…ÙÙ†Ù Ø§Ù„Ù’Ø¬ÙÙ†ÙÙ‘Ø©Ù ÙˆÙØ§Ù„Ù†ÙÙ‘Ø§Ø³Ù)", count: 3 },
        { text: "Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ£ØµØ¨Ø­ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±. Ø±Ø¨ Ø£Ø³Ø£Ù„Ùƒ Ø®ÙŠØ± Ù…Ø§ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ… ÙˆØ®ÙŠØ± Ù…Ø§ Ø¨Ø¹Ø¯Ù‡ØŒ ÙˆØ£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø´Ø± Ù…Ø§ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ… ÙˆØ´Ø± Ù…Ø§ Ø¨Ø¹Ø¯Ù‡", count: 1 },
        { text: "Ø§Ù„Ù„Ù‡Ù… Ø¨Ùƒ Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ¨Ùƒ Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ¨Ùƒ Ù†Ø­ÙŠØ§ ÙˆØ¨Ùƒ Ù†Ù…ÙˆØª ÙˆØ¥Ù„ÙŠÙƒ Ø§Ù„Ù†Ø´ÙˆØ±", count: 1 },
        { text: "Ø±Ø¶ÙŠØª Ø¨Ø§Ù„Ù„Ù‡ Ø±Ø¨Ù‹Ø§ ÙˆØ¨Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ†Ù‹Ø§ ÙˆØ¨Ù…Ø­Ù…Ø¯ ï·º Ù†Ø¨ÙŠÙ‹Ø§", count: 3 },
        { text: "Ø§Ù„Ù„Ù‡Ù… Ø¹Ø§ÙÙ†ÙŠ ÙÙŠ Ø¨Ø¯Ù†ÙŠØŒ Ø§Ù„Ù„Ù‡Ù… Ø¹Ø§ÙÙ†ÙŠ ÙÙŠ Ø³Ù…Ø¹ÙŠØŒ Ø§Ù„Ù„Ù‡Ù… Ø¹Ø§ÙÙ†ÙŠ ÙÙŠ Ø¨ØµØ±ÙŠØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø£Ù†Øª", count: 3 },
        { text: "Ø­Ø³Ø¨ÙŠ Ø§Ù„Ù„Ù‡ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ù‡Ùˆ Ø¹Ù„ÙŠÙ‡ ØªÙˆÙƒÙ„Øª ÙˆÙ‡Ùˆ Ø±Ø¨ Ø§Ù„Ø¹Ø±Ø´ Ø§Ù„Ø¹Ø¸ÙŠÙ…", count: 7 },
        { text: "Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡", count: 100 }
    ],
    evening: [
        { text: "Ø£Ø¹ÙˆØ° Ø¨Ø§Ù„Ù„Ù‡ Ù…Ù† Ø§Ù„Ø´ÙŠØ·Ø§Ù† Ø§Ù„Ø±Ø¬ÙŠÙ…: (Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ)", count: 1 },
        { text: "Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Øµ (3 Ù…Ø±Ø§Øª)", count: 3 },
        { text: "Ø³ÙˆØ±Ø© Ø§Ù„ÙÙ„Ù‚ (3 Ù…Ø±Ø§Øª)", count: 3 },
        { text: "Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø§Ø³ (3 Ù…Ø±Ø§Øª)", count: 3 },
        { text: "Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ£Ù…Ø³Ù‰ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±", count: 1 },
        { text: "Ø§Ù„Ù„Ù‡Ù… Ø¨Ùƒ Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ¨Ùƒ Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ¨Ùƒ Ù†Ø­ÙŠØ§ ÙˆØ¨Ùƒ Ù†Ù…ÙˆØª ÙˆØ¥Ù„ÙŠÙƒ Ø§Ù„Ù…ØµÙŠØ±", count: 1 },
        { text: "Ø±Ø¶ÙŠØª Ø¨Ø§Ù„Ù„Ù‡ Ø±Ø¨Ù‹Ø§ ÙˆØ¨Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ†Ù‹Ø§ ÙˆØ¨Ù…Ø­Ù…Ø¯ ï·º Ù†Ø¨ÙŠÙ‹Ø§", count: 3 },
        { text: "Ø§Ù„Ù„Ù‡Ù… Ø¹Ø§ÙÙ†ÙŠ ÙÙŠ Ø¨Ø¯Ù†ÙŠØŒ Ø§Ù„Ù„Ù‡Ù… Ø¹Ø§ÙÙ†ÙŠ ÙÙŠ Ø³Ù…Ø¹ÙŠØŒ Ø§Ù„Ù„Ù‡Ù… Ø¹Ø§ÙÙ†ÙŠ ÙÙŠ Ø¨ØµØ±ÙŠØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø£Ù†Øª", count: 3 },
        { text: "Ø­Ø³Ø¨ÙŠ Ø§Ù„Ù„Ù‡ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ù‡Ùˆ Ø¹Ù„ÙŠÙ‡ ØªÙˆÙƒÙ„Øª ÙˆÙ‡Ùˆ Ø±Ø¨ Ø§Ù„Ø¹Ø±Ø´ Ø§Ù„Ø¹Ø¸ÙŠÙ…", count: 7 },
        { text: "Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡", count: 100 }
    ],
    sleep: [
        { text: "Ø¨Ø§Ø³Ù…Ùƒ Ø§Ù„Ù„Ù‡Ù… Ø£Ù…ÙˆØª ÙˆØ£Ø­ÙŠØ§", count: 1 },
        { text: "Ø§Ù„Ù„Ù‡Ù… Ù‚ÙÙ†ÙŠ Ø¹Ø°Ø§Ø¨Ùƒ ÙŠÙˆÙ… ØªØ¨Ø¹Ø« Ø¹Ø¨Ø§Ø¯Ùƒ", count: 3 },
        { text: "Ø¬Ù…Ø¹ Ø§Ù„ÙƒÙÙŠÙ† ÙˆØ§Ù„Ù†ÙØ« ÙÙŠÙ‡Ù…Ø§ ÙˆÙ‚Ø±Ø§Ø¡Ø© (Ø§Ù„Ø¥Ø®Ù„Ø§ØµØŒ Ø§Ù„ÙÙ„Ù‚ØŒ Ø§Ù„Ù†Ø§Ø³) Ø«Ù… Ù…Ø³Ø­ Ù…Ø§ Ø§Ø³ØªØ·Ø§Ø¹ Ù…Ù† Ø§Ù„Ø¬Ø³Ø¯", count: 3 },
        { text: "Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ: (Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø­ÙÙŠÙÙ‘ Ø§Ù„Ù’Ù‚ÙÙŠÙÙ‘ÙˆÙ…Ù...)", count: 1 },
        { text: "Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡", count: 33 },
        { text: "Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡", count: 33 },
        { text: "Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±", count: 34 },
        { text: "Ø§Ù„Ù„Ù‡Ù… Ø£Ø³Ù„Ù…Øª Ù†ÙØ³ÙŠ Ø¥Ù„ÙŠÙƒØŒ ÙˆÙÙˆØ¶Øª Ø£Ù…Ø±ÙŠ Ø¥Ù„ÙŠÙƒØŒ ÙˆÙˆØ¬Ù‡Øª ÙˆØ¬Ù‡ÙŠ Ø¥Ù„ÙŠÙƒØŒ ÙˆØ£Ù„Ø¬Ø£Øª Ø¸Ù‡Ø±ÙŠ Ø¥Ù„ÙŠÙƒØŒ Ø±ØºØ¨Ø©Ù‹ ÙˆØ±Ù‡Ø¨Ø©Ù‹ Ø¥Ù„ÙŠÙƒØŒ Ù„Ø§ Ù…Ù„Ø¬Ø£ ÙˆÙ„Ø§ Ù…Ù†Ø¬Ù‰ Ù…Ù†Ùƒ Ø¥Ù„Ø§ Ø¥Ù„ÙŠÙƒØŒ Ø¢Ù…Ù†Øª Ø¨ÙƒØªØ§Ø¨Ùƒ Ø§Ù„Ø°ÙŠ Ø£Ù†Ø²Ù„ØªØŒ ÙˆØ¨Ù†Ø¨ÙŠÙƒ Ø§Ù„Ø°ÙŠ Ø£Ø±Ø³Ù„Øª", count: 1 }
    ]
};

function loadAzkar(type) {
    document.getElementById('azkarCats').style.display = 'none';
    document.getElementById('azkar-content').style.display = 'block';
    const titles = { morning: 'â˜€ï¸ Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­', evening: 'ğŸŒ™ Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡', sleep: 'ğŸ›Œ Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…' };
    document.getElementById('azkar-title').innerText = titles[type];
    const list = document.getElementById('azkarList');
    list.innerHTML = azkarData[type].map((z, i) => `
        <div class="zekr-card" id="zekr-${i}" onclick="countZekr(${i})">
            <div class="zekr-text">${z.text}</div>
            <div class="zekr-counter">Ø¨Ù‚ÙŠ: <span id="count-${i}">${z.count}</span></div>
        </div>
    `).join('');
}

function countZekr(i) {
    const el = document.getElementById(`count-${i}`);
    let c = parseInt(el.innerText);
    if (c > 0) { el.innerText = --c; if (c === 0) document.getElementById(`zekr-${i}`).classList.add('done'); }
}

function backToAzkarCats() {
    document.getElementById('azkarCats').style.display = 'grid';
    document.getElementById('azkar-content').style.display = 'none';
}

function changeReciter() { audio.pause(); updateAudioSource(); }
